# Netlify éƒ¨ç½²è¯¦ç»†æŒ‡å—

## ğŸ“‹ å‰ææ¡ä»¶

- âœ… ä»£ç å·²ä¸Šä¼ åˆ° GitHubï¼ˆhttps://github.com/MFCR7788/sifanï¼‰
- âœ… Netlify é…ç½®æ–‡ä»¶å·²åˆ›å»ºï¼ˆnetlify.tomlï¼‰
- âœ… GitHub ä»“åº“å¿…é¡»æ˜¯å…¬å¼€çš„ï¼ˆæ¨èï¼‰æˆ–ç§æœ‰ä»“åº“æˆæƒ Netlify è®¿é—®

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²åˆ° Netlifyï¼ˆ5åˆ†é’Ÿï¼‰

### æ­¥éª¤ 1ï¼šæ³¨å†Œ Netlify è´¦å·

1. è®¿é—®ï¼šhttps://app.netlify.com/signup
2. é€‰æ‹©æ³¨å†Œæ–¹å¼ï¼š
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•ï¼ˆæ¨èï¼‰
   - ä½¿ç”¨ Email æ³¨å†Œ

3. å®Œæˆæ³¨å†Œå¹¶ç™»å½•

### æ­¥éª¤ 2ï¼šåˆ›å»ºæ–°ç«™ç‚¹

1. ç™»å½•åï¼Œåœ¨ Netlify æ§åˆ¶å°ç‚¹å‡» **"Add new site"** â†’ **"Import an existing project"**

2. é€‰æ‹© **"GitHub"** ä½œä¸ºä»£ç ä»“åº“æä¾›å•†

3. ç‚¹å‡» **"Configure Netlify on GitHub"** æŒ‰é’®

4. å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œä¼šæˆæƒ Netlify è®¿é—®æ‚¨çš„ GitHubï¼š
   - ç‚¹å‡» **"Install Netlify"**
   - é€‰æ‹© **All repositories**ï¼ˆæ¨èï¼‰æˆ– **Only select repositories** å¹¶é€‰æ‹© `sifan` ä»“åº“
   - ç‚¹å‡» **"Install"**

### æ­¥éª¤ 3ï¼šå¯¼å…¥é¡¹ç›®

1. åœ¨ä»“åº“åˆ—è¡¨ä¸­æ‰¾åˆ°å¹¶é€‰æ‹© **"sifan"** ä»“åº“

2. é…ç½®æ„å»ºè®¾ç½®ï¼š

   ```
   Build settings:

   Branch to deploy: main

   Build command:
   npm run build

   Publish directory:
   .next
   ```

3. ç‚¹å‡» **"Show advanced"** å±•å¼€é«˜çº§è®¾ç½®

4. åœ¨ **"Build environment variables"** ä¸­æ·»åŠ ï¼š

   | å˜é‡å | å˜é‡å€¼ | è¯´æ˜ |
   |--------|--------|------|
   | `NODE_VERSION` | `20` | Node.js ç‰ˆæœ¬ |
   | `NPM_VERSION` | `10` | NPM ç‰ˆæœ¬ |
   | `NODE_ENV` | `production` | ç”Ÿäº§ç¯å¢ƒ |

5. ç‚¹å‡» **"Deploy site"** å¼€å§‹éƒ¨ç½²

### æ­¥éª¤ 4ï¼šç­‰å¾…éƒ¨ç½²å®Œæˆ

- Netlify ä¼šè‡ªåŠ¨ï¼š
  - å…‹éš†æ‚¨çš„ä»£ç 
  - å®‰è£…ä¾èµ–ï¼ˆ`npm install`ï¼‰
  - æ„å»ºé¡¹ç›®ï¼ˆ`npm run build`ï¼‰
  - éƒ¨ç½²åˆ° CDN

- éƒ¨ç½²æ—¶é—´ï¼šçº¦ 3-8 åˆ†é’Ÿï¼ˆé¦–æ¬¡éƒ¨ç½²è¾ƒæ…¢ï¼‰

- éƒ¨ç½²å®Œæˆåï¼Œæ‚¨ä¼šè·å¾—ä¸€ä¸ªç±»ä¼¼ï¼š
  ```
  https://random-name-12345.netlify.app
  ```
  çš„å…è´¹åŸŸå

### æ­¥éª¤ 5ï¼šè®¿é—®æ‚¨çš„ç½‘ç«™

éƒ¨ç½²æˆåŠŸåï¼š
1. ç‚¹å‡»å‘å¸ƒçš„åŸŸåå³å¯è®¿é—®
2. æˆ–åœ¨ Netlify æ§åˆ¶å°ç‚¹å‡» **"Open in browser"** æŒ‰é’®

---

## âš™ï¸ ç¯å¢ƒå˜é‡é…ç½®

å¦‚æœé¡¹ç›®éœ€è¦ç¯å¢ƒå˜é‡ï¼ˆå¦‚æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²ï¼‰ï¼š

### æ·»åŠ ç¯å¢ƒå˜é‡

1. åœ¨ Netlify æ§åˆ¶å°ï¼Œè¿›å…¥æ‚¨çš„ç«™ç‚¹
2. ç‚¹å‡» **"Site configuration"**
3. åœ¨å·¦ä¾§èœå•æ‰¾åˆ° **"Environment variables"**
4. ç‚¹å‡» **"Add a variable"**
5. æ·»åŠ æ‚¨çš„ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚ï¼š

   ```
   Key: DATABASE_URL
   Value: postgresql://user:password@host:5432/dbname
   ```

6. ç‚¹å‡» **"Save"**
7. è§¦å‘é‡æ–°éƒ¨ç½²ï¼šç‚¹å‡» **"Deploys"** â†’ **"Trigger deploy"** â†’ **"Deploy site"**

### å¸¸ç”¨ç¯å¢ƒå˜é‡

```bash
# æ•°æ®åº“è¿æ¥
DATABASE_URL=your_database_url

# API å¯†é’¥
API_KEY=your_api_key

# åº”ç”¨é…ç½®
NEXT_PUBLIC_APP_URL=https://your-domain.netlify.app
```

---

## ğŸŒ è‡ªå®šä¹‰åŸŸåé…ç½®

### æ–¹æ³• 1ï¼šä½¿ç”¨ Netlify æä¾›çš„å­åŸŸå

1. åœ¨ç«™ç‚¹è®¾ç½®ä¸­ï¼Œç‚¹å‡» **"Change site name"**
2. è¾“å…¥æ‚¨æƒ³è¦çš„åç§°ï¼ˆå¦‚ `my-website`ï¼‰
3. ç‚¹å‡» **"Save"**
4. æ–°åŸŸåï¼š`https://my-website.netlify.app`

### æ–¹æ³• 2ï¼šä½¿ç”¨è‡ªå·±çš„åŸŸå

1. åœ¨ç«™ç‚¹è®¾ç½®ä¸­ï¼Œç‚¹å‡» **"Add custom domain"**

2. è¾“å…¥æ‚¨çš„åŸŸåï¼ˆå¦‚ `www.yourdomain.com`ï¼‰

3. æ ¹æ®æç¤ºé…ç½® DNSï¼š

   **å¦‚æœä½¿ç”¨ CNAMEï¼ˆæ¨èï¼‰ï¼š**
   ```
   ç±»å‹: CNAME
   ä¸»æœºè®°å½•: www
   è®°å½•å€¼: your-site-name.netlify.app
   ```

   **å¦‚æœä½¿ç”¨ A è®°å½•ï¼š**
   ```
   ç±»å‹: A
   ä¸»æœºè®°å½•: @
   è®°å½•å€¼: 75.2.70.75
   ```

4. ç‚¹å‡» **"Verify DNS configuration"**

5. DNS ç”Ÿæ•ˆåï¼ŒNetlify ä¼šè‡ªåŠ¨é¢å‘ SSL è¯ä¹¦

---

## ğŸ”„ è‡ªåŠ¨éƒ¨ç½²é…ç½®

Netlify æ”¯æŒè‡ªåŠ¨éƒ¨ç½²ï¼Œå½“æ‚¨æ¨é€ä»£ç åˆ° GitHub æ—¶ä¼šè‡ªåŠ¨é‡æ–°éƒ¨ç½²ï¼š

### é…ç½®è‡ªåŠ¨éƒ¨ç½²

1. åœ¨ç«™ç‚¹è®¾ç½®ä¸­ï¼Œç‚¹å‡» **"Build & deploy"**
2. æ‰¾åˆ° **"Continuous Deployment"**
3. ç¡®è®¤ **"Auto deploy branch"** è®¾ç½®ä¸º `main`
4. ç¡®è®¤ **"Branches"** â†’ **"Active branches"** åŒ…å« `main`

### è§¦å‘è‡ªåŠ¨éƒ¨ç½²

å½“æ‚¨åœ¨æœ¬åœ°æ¨é€ä»£ç åˆ° GitHub æ—¶ï¼š

```bash
git add .
git commit -m "Update website"
git push
```

Netlify ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ›´æ–°å¹¶å¼€å§‹éƒ¨ç½²ã€‚

---

## ğŸ“Š éƒ¨ç½²ç›‘æ§

### æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—

1. è¿›å…¥ Netlify æ§åˆ¶å°
2. ç‚¹å‡»æ‚¨çš„ç«™ç‚¹
3. ç‚¹å‡» **"Deploys"** æ ‡ç­¾
4. ç‚¹å‡»ä»»æ„éƒ¨ç½²è®°å½•æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

### éƒ¨ç½²å¤±è´¥æ’æŸ¥

å¦‚æœéƒ¨ç½²å¤±è´¥ï¼š

1. æŸ¥çœ‹ **"Deploys"** â†’ **"Failed"** çš„éƒ¨ç½²æ—¥å¿—
2. å¸¸è§é”™è¯¯ï¼š
   - **ä¾èµ–å®‰è£…å¤±è´¥**ï¼šæ£€æŸ¥ `package.json` ä¾èµ–æ˜¯å¦æ­£ç¡®
   - **æ„å»ºå¤±è´¥**ï¼šæ£€æŸ¥ `npm run build` æ˜¯å¦åœ¨æœ¬åœ°é€šè¿‡
   - **ç¯å¢ƒå˜é‡ç¼ºå¤±**ï¼šæ£€æŸ¥æ‰€æœ‰å¿…è¦çš„ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®
   - **Node.js ç‰ˆæœ¬ä¸åŒ¹é…**ï¼šæ£€æŸ¥ `NODE_VERSION` æ˜¯å¦æ­£ç¡®

### é‡æ–°éƒ¨ç½²å¤±è´¥ç‰ˆæœ¬

1. åœ¨ **"Deploys"** é¡µé¢æ‰¾åˆ°å¤±è´¥çš„éƒ¨ç½²
2. ç‚¹å‡» **"Retry deploy"** æŒ‰é’®

---

## ğŸ”§ é«˜çº§é…ç½®

### å®‰è£… Netlify CLIï¼ˆå¯é€‰ï¼‰

```bash
# å…¨å±€å®‰è£…
npm install -g netlify-cli

# ç™»å½•
netlify login

# é“¾æ¥åˆ° Netlify ç«™ç‚¹
netlify link

# æœ¬åœ°é¢„è§ˆ
netlify dev

# éƒ¨ç½²
netlify deploy --prod
```

### é…ç½®è‡ªå®šä¹‰é‡å®šå‘

å¦‚æœéœ€è¦ç‰¹å®šçš„é‡å®šå‘è§„åˆ™ï¼Œç¼–è¾‘ `netlify.toml`ï¼š

```toml
[[redirects]]
  from = "/old-path"
  to = "/new-path"
  status = 301
  force = true
```

### é…ç½®ç¼“å­˜ç­–ç•¥

ç¼–è¾‘ `netlify.toml`ï¼š

```toml
[[headers]]
  for = "/*.js"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/*.css"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 1. å¯ç”¨ Netlify CDN

Netlify é»˜è®¤å¯ç”¨äº† CDNï¼Œæ‚¨çš„é™æ€èµ„æºä¼šè‡ªåŠ¨åˆ†å‘åˆ°å…¨çƒèŠ‚ç‚¹ã€‚

### 2. å¯ç”¨å‹ç¼©

ç¼–è¾‘ `netlify.toml`ï¼š

```toml
[build.processing]
  skip_processing = false

[build.processing.css]
  bundle = true
  minify = true

[build.processing.js]
  bundle = true
  minify = true
```

### 3. å¯ç”¨å›¾ç‰‡ä¼˜åŒ–

Netlify è‡ªåŠ¨ä¼˜åŒ–å›¾ç‰‡ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

---

## ğŸ”’ å®‰å…¨é…ç½®

### 1. å¯ç”¨ HTTPS

Netlify é»˜è®¤ä¸ºæ‰€æœ‰ç«™ç‚¹å¯ç”¨ HTTPSã€‚

### 2. é…ç½®å®‰å…¨å¤´

ç¼–è¾‘ `netlify.toml`ï¼š

```toml
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options = "DENY"
    X-Content-Type-Options = "nosniff"
    X-XSS-Protection = "1; mode=block"
    Referrer-Policy = "strict-origin-when-cross-origin"
    Permissions-Policy = "geolocation=(), microphone=(), camera=()"
```

---

## ğŸ“¦ å…è´¹ç‰ˆé™åˆ¶

Netlify å…è´¹ç‰ˆçš„é™åˆ¶ï¼š

| é¡¹ç›® | å…è´¹ç‰ˆé™åˆ¶ |
|------|-----------|
| å¸¦å®½ | 100 GB/æœˆ |
| æ„å»ºæ—¶é—´ | 300 åˆ†é’Ÿ/æœˆ |
| ç«™ç‚¹æ•°é‡ | æ— é™åˆ¶ |
| å›¢é˜Ÿæˆå‘˜ | 1 äºº |
| è¡¨å•æäº¤ | 100 æ¬¡/æœˆ |
| å‡½æ•°è°ƒç”¨ | 125,000 æ¬¡/æœˆ |

å¦‚éœ€æ›´å¤šèµ„æºï¼Œå¯å‡çº§åˆ°ä»˜è´¹ç‰ˆã€‚

---

## ğŸ†š Netlify vs Vercel

| ç‰¹æ€§ | Netlify | Vercel |
|------|--------|--------|
| Next.js æ”¯æŒ | â­â­â­â­ | â­â­â­â­â­ (å®˜æ–¹) |
| å…è´¹é¢åº¦ | å……è¶³ | å……è¶³ |
| æ„å»ºé€Ÿåº¦ | å¿« | å¾ˆå¿« |
| æ˜“ç”¨æ€§ | ç®€å• | ç®€å• |
| å…¨çƒ CDN | âœ… | âœ… |
| Serverless | âœ… | âœ… |
| è¾¹ç¼˜å‡½æ•° | âœ… | âœ… |

å¯¹äº Next.js é¡¹ç›®ï¼ŒVercel ä»ç„¶æ˜¯é¦–é€‰ï¼Œä½† Netlify ä¹Ÿæ˜¯å¾ˆå¥½çš„é€‰æ‹©ã€‚

---

## â“ å¸¸è§é—®é¢˜

### 1. éƒ¨ç½²å 404 é”™è¯¯

**åŸå› **ï¼šå‘å¸ƒç›®å½•é…ç½®é”™è¯¯

**è§£å†³**ï¼š
- æ£€æŸ¥ `netlify.toml` ä¸­çš„ `publish = ".next"` æ˜¯å¦æ­£ç¡®
- åœ¨ Netlify è®¾ç½®ä¸­ç¡®è®¤ **Publish directory** ä¸º `.next`

### 2. æ ·å¼ä¸¢å¤±

**åŸå› **ï¼šCSS æ–‡ä»¶æœªæ­£ç¡®åŠ è½½

**è§£å†³**ï¼š
- æ£€æŸ¥ `next.config.js` é…ç½®
- ç¡®ä¿æ‰€æœ‰é™æ€æ–‡ä»¶è·¯å¾„æ­£ç¡®

### 3. å›¾ç‰‡ä¸æ˜¾ç¤º

**åŸå› **ï¼šNext.js å›¾ç‰‡é…ç½®é—®é¢˜

**è§£å†³**ï¼š
- ç¡®è®¤ `next.config.js` ä¸­çš„ `images.domains` é…ç½®æ­£ç¡®
- ä½¿ç”¨ç›¸å¯¹è·¯å¾„æˆ–å·²é…ç½®çš„åŸŸå

### 4. ç¯å¢ƒå˜é‡ä¸ç”Ÿæ•ˆ

**è§£å†³**ï¼š
1. ç¡®è®¤å˜é‡åæ‹¼å†™æ­£ç¡®
2. é‡æ–°è§¦å‘éƒ¨ç½²
3. æ£€æŸ¥å˜é‡å€¼æ˜¯å¦åŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼ˆå¯èƒ½éœ€è¦å¼•å·ï¼‰

### 5. æ„å»ºè¶…æ—¶

**åŸå› **ï¼šå…è´¹ç‰ˆæ„å»ºæ—¶é—´é™åˆ¶ä¸º 15 åˆ†é’Ÿ

**è§£å†³**ï¼š
- ä¼˜åŒ–æ„å»ºè„šæœ¬
- å‡å°‘ä¸å¿…è¦çš„ä¾èµ–
- æˆ–å‡çº§åˆ°ä»˜è´¹ç‰ˆ

---

## ğŸ¯ éƒ¨ç½²æ£€æŸ¥æ¸…å•

åœ¨éƒ¨ç½²å‰ç¡®è®¤ï¼š

- [ ] ä»£ç å·²æ¨é€åˆ° GitHub
- [ ] `netlify.toml` é…ç½®æ­£ç¡®
- [ ] æœ¬åœ°æ„å»ºæˆåŠŸï¼ˆ`npm run build`ï¼‰
- [ ] ç¯å¢ƒå˜é‡å·²é…ç½®ï¼ˆå¦‚æœ‰éœ€è¦ï¼‰
- [ ] GitHub ä»“åº“è®¿é—®æƒé™æ­£ç¡®
- [ ] é˜…è¯»äº†æ„å»ºæ—¥å¿—ï¼Œæ— é”™è¯¯è­¦å‘Š

---

## ğŸ“š å‚è€ƒèµ„æº

- Netlify å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.netlify.com/
- Netlify Next.js æŒ‡å—ï¼šhttps://docs.netlify.com/frameworks/next-js/
- Next.js éƒ¨ç½²æ–‡æ¡£ï¼šhttps://nextjs.org/docs/deployment

---

## ğŸ‰ å®Œæˆï¼

æ­å–œæ‚¨çš„ç½‘ç«™å·²æˆåŠŸéƒ¨ç½²åˆ° Netlifyï¼

**ä¸‹ä¸€æ­¥ï¼š**
1. é…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰
2. è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚éœ€è¦ï¼‰
3. é…ç½®è‡ªåŠ¨éƒ¨ç½²
4. ç›‘æ§éƒ¨ç½²æ—¥å¿—
5. æ ¹æ®éœ€è¦ä¼˜åŒ–æ€§èƒ½

ç¥æ‚¨çš„ç½‘ç«™è¿è¡Œé¡ºåˆ©ï¼ğŸš€
